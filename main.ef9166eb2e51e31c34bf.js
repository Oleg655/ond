"use strict";(self.webpackChunkpnd=self.webpackChunkpnd||[]).push([[179],{35:(e,t,n)=>{n.r(t)},38:(e,t,n)=>{n.r(t)},254:(e,t,n)=>{n.r(t)},492:(e,t,n)=>{n.r(t)},985:(e,t,n)=>{n.r(t)},957:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const i=n(893),r=n(228);t.App=()=>(0,i.jsx)(r.CompoundTable,{},void 0)},228:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CompoundTable=void 0;const a=n(893),s=o(n(294));n(35);const l=n(644),d=n(95),c=n(523),u=n(402),m=n(838),v=n(355),h=n(677),b=(0,s.createContext)(null),p=({children:e,minCellWidth:t,smartColumn:n})=>{const[i,r]=(0,s.useState)(),[o,l]=(0,s.useState)("pivot-highlighter"),[d,c]=(0,s.useState)(null),m=(0,s.useRef)(null),h=e=>{(0,v.collapseColumn)(e,m,n,t)},p=e=>{(0,v.showColumn)(e,m,n,t)},j=(0,s.useCallback)((e=>(0,v.resizer)(e,m,n,t,d)),[d,n,t]),g=(0,s.useCallback)((()=>{window.removeEventListener("mousemove",j),window.removeEventListener("mouseup",g)}),[j]),x=(0,s.useCallback)((()=>{l("pivot-highlighter"),c(null),r(m.current.clientHeight/n.length),g()}),[g]);(0,s.useEffect)((()=>(null!==d&&(window.addEventListener("mousemove",j),window.addEventListener("mouseup",x)),()=>{g()})),[t,j,x,g]);const f=(0,s.useMemo)((()=>({smartColumn:n,activeIndex:d,setActiveIndex:c,collapseWrapper:h,showWrapper:p,tableElement:m,pivotHeight:i,setPivotHeight:r,showPivot:o,setShowPivot:l})),[i,o,d,n]);return(0,a.jsx)(b.Provider,Object.assign({value:f},{children:(0,a.jsx)("table",Object.assign({ref:m,style:{gridTemplateColumns:(0,u.generateColumnsSize)(n)}},{children:e}),void 0)}),void 0)};p.Pivot=({side:e,location:t})=>{const{tableElement:n,pivotHeight:i,setPivotHeight:r,setShowPivot:o,activeIndex:l,setActiveIndex:d}=(0,s.useContext)(b);return(0,a.jsxs)(a.Fragment,{children:["LEFT"===e&&(0,a.jsx)("div",{style:{height:i},className:"left-pivot "+(l===t?"active":"")},void 0),"RIGHT"===e&&(0,a.jsx)("div",{style:{height:i},onMouseDown:()=>{d(t),r(n.current.clientHeight),o("")},className:"right-pivot "+(l===t?"active":"")},void 0)]},void 0)},p.TableHead=({sorts:e,sortTableData:t,dragStartHandler:n,dragEndHandler:i,dragOverHandler:r,dragLeaveHandler:o,dropHandler:l,sortColumns:d})=>{const{showPivot:c,smartColumn:u}=(0,s.useContext)(b),[m,v]=(0,s.useState)(null);return(0,a.jsx)("thead",{children:(0,a.jsx)("tr",{children:u.sort(d).map((s=>(0,a.jsxs)("td",Object.assign({style:{display:!s.isShown&&"none"},className:`menu-container ${c}`,ref:s.ref,onClick:()=>{v(s.id),t(s.columnTitle)}},{children:[(0,a.jsx)("span",Object.assign({draggable:!0,onDragStart:e=>n(e,s),onDragEnd:e=>i(e),onDragOver:e=>r(e),onDragLeave:e=>o(e),onDrop:e=>l(e,s)},{children:s.headerTitle}),void 0),(0,a.jsx)("span",Object.assign({style:{display:!(m===s.id)&&"none"}},{children:e[s.columnTitle]?"↓":"↑"}),void 0),(0,a.jsx)(p.Pivot,{side:"LEFT",location:s.id},void 0),(0,a.jsx)(p.Pivot,{side:"RIGHT",location:s.id},void 0)]}),s.id)))},void 0)},void 0)},p.TableBody=({children:e})=>(0,a.jsx)("tbody",{children:e},void 0),p.TableRow=({children:e})=>(0,a.jsx)("tr",{children:e},void 0),p.TableData=({id:e,title:t,children:n,callback:i})=>(0,a.jsxs)("td",{children:[!n&&i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.EditableSpan,{title:t},void 0)," ",(0,a.jsx)("button",Object.assign({onClick:i},{children:"delete"}),void 0)]},void 0),!n&&!i&&(0,a.jsx)(d.EditableSpan,{title:t},void 0),n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.EditableSpan,{title:t},void 0)," ",n]},void 0)]},e),p.TableDataWithDeleteButton=({id:e,title:t,callback:n})=>(0,a.jsxs)("td",{children:[(0,a.jsx)(d.EditableSpan,{title:t},void 0)," ",(0,a.jsx)("button",Object.assign({onClick:n},{children:"delete"}),void 0)]},e),p.MainHead=({smartColumn:e,setSmartHeaders:t,sortColumns:n})=>(0,a.jsx)(l.DropdownCheckboxContainer,{children:(0,a.jsx)(l.DropdownContainer.List,{children:e.sort(n).map((e=>(0,a.jsx)(l.DropdownCheckboxContainer.CheckboxItem,{checked:e.isShown,callback:n=>t(e.id,n),title:e.headerTitle},e.id)))},void 0)},void 0),p.Arrow=({isSorted:e})=>(0,a.jsx)("div",{children:e?(0,a.jsx)("span",{children:"↑"},void 0):(0,a.jsx)("span",{children:"↓"},void 0)},void 0),t.CompoundTable=()=>{const e=(0,m.createSmartHeaders)([{headerTitle:"Items",columnTitle:"title"},{headerTitle:"Order #",columnTitle:"order"},{headerTitle:"Amount",columnTitle:"amount"},{headerTitle:"Status",columnTitle:"status"},{headerTitle:"Delivery Driver",columnTitle:"name"}]),[t,n]=(0,s.useState)(e),[i,r]=(0,s.useState)(null),[o,l]=(0,s.useState)(h.data),[d,u]=(0,s.useState)({title:!1,order:!1,amount:!1,status:!1,name:!1}),[v,b]=(0,s.useState)(1),[j,g]=(0,s.useState)([]),x=()=>{const e=3*v,t=e-3;g(o.slice(t,e))};(0,s.useEffect)((()=>{x()}),[v,o]);const f=(e,t)=>e.order>t.order?1:-1,C=(0,s.useMemo)((()=>(console.log(j),j.map((e=>(0,a.jsx)(p.TableRow,{children:(()=>{const n=[];let i=0;for(const r in e)"id"!==r&&("title"===r?(n.push((0,a.jsx)(s.default.Fragment,{children:t[i].isShown&&(0,a.jsx)(p.TableData,{callback:()=>{l(o.filter((t=>t.id!==e.id)))},title:e[t[i].columnTitle]},void 0)},t[i].id)),i+=1):(n.push((0,a.jsx)(s.default.Fragment,{children:t[i].isShown&&(0,a.jsx)(p.TableData,{title:e[t[i].columnTitle]},void 0)},t[i].id)),i+=1));return n})()},Math.random()))))),[j,t]);return(0,a.jsxs)("div",Object.assign({className:"table-wrapper"},{children:[(0,a.jsx)(p.MainHead,{sortColumns:f,smartColumn:t,setSmartHeaders:(e,i)=>{n(t.map((t=>(t.id===e&&(t.isShown=i),t))))}},void 0),(0,a.jsx)("button",Object.assign({onClick:()=>{l([{id:Math.random(),title:"",order:null,amount:null,status:"",name:""},...o])}},{children:"Добавить запись"}),void 0),(0,a.jsxs)(p,Object.assign({minCellWidth:120,smartColumn:t},{children:[(0,a.jsx)(p.TableHead,{sorts:d,sortTableData:e=>{u(Object.assign(Object.assign({},d),{[e]:!d[e]})),l(o.sort(((t,n)=>t[e]>n[e]?d[e]?-1:1:t[e]<n[e]?d[e]?1:-1:0))),x()},dragStartHandler:(e,t)=>{r(t)},dragEndHandler:()=>{x()},dragOverHandler:e=>{e.preventDefault(),e.target.style.background="red"},dragLeaveHandler:e=>{e.target.style.background="white"},dropHandler:(e,r)=>{e.target.style.background="white",e.preventDefault(),n(t.map((e=>e.id===r.id?Object.assign(Object.assign({},e),{order:i.order}):e.id===i.id?Object.assign(Object.assign({},e),{order:r.order}):e)))},sortColumns:f},void 0),(0,a.jsx)(p.TableBody,{children:C},void 0)]}),void 0),(0,a.jsx)(c.Pagination,{currentPage:v,setCurrentPage:b,contentPerPage:3,totalElements:12,pageNumberLimit:10},void 0)]}),void 0)}},838:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createSmartHeaders=void 0;const i=n(294);t.createSmartHeaders=e=>e.map((({headerTitle:e,columnTitle:t},n)=>({id:n,order:n,headerTitle:e,columnTitle:t,ref:(0,i.useRef)(),isShown:!0})))},733:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.generateColumnsSize=void 0,t.generateColumnsSize=e=>e.map((e=>e.isShown?"1fr ":"")).join(" ")},402:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.generateColumnsSize=t.createSmartHeaders=void 0;var i=n(838);Object.defineProperty(t,"createSmartHeaders",{enumerable:!0,get:function(){return i.createSmartHeaders}});var r=n(733);Object.defineProperty(t,"generateColumnsSize",{enumerable:!0,get:function(){return r.generateColumnsSize}})},355:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.showColumn=t.collapseColumn=t.resizer=void 0,t.resizer=(e,t,n,i,r)=>{const o=n.filter((e=>!0===e.isShown)).map((t=>{if(t.id===r){const n=e.clientX-t.ref.current.offsetLeft;if(n>=i)return`${n}px`}return`${t.ref.current.offsetWidth}px`}));t.current.style.gridTemplateColumns=`${o.join(" ")}`},t.collapseColumn=(e,t,n,i)=>{const r=n.map(((t,n)=>n!==e&&t.ref.current.offsetWidth===i||n===e?(t.ref.current.style.display="none",""):"1fr"));t.current.style.gridTemplateColumns=`${r.join(" ")}`},t.showColumn=(e,t,n,i)=>{const r=n.map(((t,n)=>n===e&&t.ref.current.offsetWidth===i?"1fr":n!==e&&t.ref.current.offsetWidth===i?`${i}px`:"1fr"));t.current.style.gridTemplateColumns=`${r.join(" ")}`}},677:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.data=void 0,t.data=[{id:1,title:"Large Detroit Style Pizza",order:3213456785,amount:31.43,status:"Pending",name:"Dave"},{id:2,title:"Double Decker Club With Fries. Pickles, extra side avacado",order:9874563245,amount:12.99,status:"Delivered",name:"Cathy"},{id:3,title:"Family Sized Lobster Dinner",order:3456781234,amount:320,status:"In Progress",name:"Alexander"},{id:4,title:"Style Pizza",order:3213456785,amount:31.43,status:"Pending",name:"Dave"},{id:5,title:"Club With Fries. Pickles, extra side avacado",order:9874563245,amount:12.99,status:"Delivered",name:"Cathy"},{id:6,title:"Lobster Dinner",order:3456781234,amount:320,status:"In Progress",name:"Alexander"},{id:7,title:"Pizza pepperoni",order:3213456785,amount:31.43,status:"Pending",name:"Dave"},{id:8,title:"Double Decker Club With Fries. Pickles, extra side avacado",order:9874563245,amount:12.99,status:"Delivered",name:"Cathy"},{id:9,title:"Family Sized Lobster Dinner",order:3456781234,amount:320,status:"In Progress",name:"Alex"},{id:10,title:"Large Detroit Style Pizza",order:3213456785,amount:31.43,status:"Pending",name:"Dave"},{id:11,title:"Double Decker Club With Fries. Pickles, extra side avacado",order:9874563245,amount:12.99,status:"Delivered",name:"Dima"},{id:12,title:"Family Sized Dinner",order:3456781234,amount:320,status:"Stopped",name:"Alex"}]},644:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DropdownCheckboxContainer=t.DropdownContainer=void 0;const i=n(893),r=n(294);n(38),t.DropdownContainer=({children:e})=>{const[t,n]=(0,r.useState)(!1),o=(0,r.useRef)(null);return(0,r.useEffect)((()=>{const e=e=>{o.current&&!o.current.contains(e.target)&&n(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[]),(0,i.jsxs)("div",Object.assign({className:"dropdown-container"},{children:[(0,i.jsx)("span",Object.assign({className:"dropdown-btn",ref:o,onClick:()=>{n(!0)}},{children:"…"}),void 0),t&&(0,i.jsx)("div",{children:e},void 0)]}),void 0)},t.DropdownContainer.List=({children:e})=>(0,i.jsx)("ul",Object.assign({className:"dropdown-menu"},{children:e}),void 0),t.DropdownContainer.Item=({title:e,children:t,callback:n})=>(0,i.jsxs)(i.Fragment,{children:[!t&&(0,i.jsx)("li",Object.assign({onClick:()=>{n()}},{children:e}),void 0),t&&(0,i.jsxs)("li",Object.assign({onClick:()=>{}},{children:[e,"〉",(0,i.jsx)("div",{children:t},void 0)]}),void 0)]},void 0),t.DropdownCheckboxContainer=({children:e})=>{const[t,n]=(0,r.useState)(!1),o=(0,r.useRef)(null);return(0,r.useEffect)((()=>{const e=e=>{o.current&&!o.current.contains(e.target)&&n(!1)};return t&&document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[t]),(0,i.jsxs)("div",Object.assign({ref:o,className:"dropdown-container"},{children:[(0,i.jsx)("button",Object.assign({onClick:()=>{n((e=>!e))}},{children:"Параметры списка"}),void 0),t&&(0,i.jsx)("div",{children:e},void 0)]}),void 0)},t.DropdownCheckboxContainer.List=({children:e})=>(0,i.jsx)("ul",Object.assign({className:"dropdown-menu"},{children:e}),void 0),t.DropdownCheckboxContainer.CheckboxItem=({checked:e,title:t,callback:n})=>(0,i.jsx)("label",Object.assign({htmlFor:t},{children:(0,i.jsxs)("li",{children:[(0,i.jsx)("input",{checked:e,onChange:e=>{n(e.target.checked)},id:t,type:"checkbox"},void 0),t]},void 0)}),void 0)},95:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EditableSpan=void 0;const i=n(893),r=n(294);n(254),t.EditableSpan=({title:e})=>{const[t,n]=(0,r.useState)(!1),[o,a]=(0,r.useState)(e||"");return(0,i.jsx)("div",Object.assign({className:"editable-span",onDoubleClick:()=>n(!0)},{children:t?(0,i.jsx)("input",{onChange:e=>{a(e.currentTarget.value)},type:"text",autoFocus:!0,value:o,onBlur:()=>{n(!1)},onKeyPress:e=>{"Enter"===e.key&&n(!1)}},void 0):(0,i.jsx)("span",{children:o},void 0)}),void 0)}},523:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Pagination=void 0;const i=n(893),r=n(294);n(492),t.Pagination=({contentPerPage:e,totalElements:t,pageNumberLimit:n,currentPage:o,setCurrentPage:a})=>{const s=Math.ceil(t/e),[l,d]=(0,r.useState)(n),[c,u]=(0,r.useState)(1),m=[];for(let e=1;e<=s;e+=1)m.push(e);const v=m.map((e=>e<l+1&&e>=c?(0,i.jsx)("button",Object.assign({className:o===e?"btn-active":"btn",type:"button",onClick:()=>{a(e)}},{children:e}),e):null)),h=(0,i.jsx)("button",Object.assign({disabled:o===m[0],onClick:()=>{a(o-1),(o-1)%n==0&&(d(l-n),u(c-n))},type:"button",className:o===m[0]?"btn-disabled":"btn"},{children:"〈"}),void 0),b=(0,i.jsx)("button",Object.assign({disabled:o===m[m.length-1],onClick:()=>{a(o+1),o+1>l&&(d(l+n),u(c+n))},type:"button",className:o===m[m.length-1]?"btn-disabled":"btn"},{children:"〉"}),void 0);let p=null;m.length>l&&(p=(0,i.jsx)("button",Object.assign({className:"btn",type:"button",onClick:()=>{d(l+n),u(c+n)}},{children:"…"}),void 0));let j=null;return c>1&&(j=(0,i.jsx)("button",Object.assign({className:"btn",type:"button",onClick:()=>{d(l-n),u(c-n)}},{children:"…"}),void 0)),(0,i.jsxs)("div",Object.assign({className:"pagination"},{children:[(0,i.jsxs)("p",{children:[o,"/",s]},void 0),h,j,v,p,b]}),void 0)}},629:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(893),o=i(n(935)),a=n(957);n(985),o.default.render((0,r.jsx)(a.App,{},void 0),document.querySelector("#root"))}},e=>{e.O(0,[216],(()=>(629,e(e.s=629)))),e.O()}]);