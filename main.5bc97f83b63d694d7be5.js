"use strict";(self.webpackChunkpnd=self.webpackChunkpnd||[]).push([[179],{35:(e,t,i)=>{i.r(t)},38:(e,t,i)=>{i.r(t)},254:(e,t,i)=>{i.r(t)},985:(e,t,i)=>{i.r(t)},957:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const n=i(893),o=i(228);t.App=()=>(0,n.jsx)(o.CompoundTable,{},void 0)},228:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CompoundTable=void 0;const n=i(893),o=i(294);i(35);const r=i(644),s=i(95),a=i(402),l=i(838),d=i(355),c=(0,o.createContext)(null),u=({children:e,minCellWidth:t,headers:i})=>{const[r,s]=(0,o.useState)(),[u,v]=(0,o.useState)("pivot-highlighter"),[m,p]=(0,o.useState)(null),h=(0,o.useRef)(null),j=(0,l.createSmartHeaders)(i),b=e=>{(0,d.collapseColumn)(e,h,j,t)},x=e=>{(0,d.showColumn)(e,h,j,t)},f=(0,o.useCallback)((e=>(0,d.resizer)(e,h,j,t,m)),[m,j,t]),g=(0,o.useCallback)((()=>{window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",g)}),[f]),C=(0,o.useCallback)((()=>{v("pivot-highlighter"),p(null),s(h.current.clientHeight/i.length),g()}),[g]);(0,o.useEffect)((()=>(null!==m&&(window.addEventListener("mousemove",f),window.addEventListener("mouseup",C)),()=>{g()})),[t,f,C,g]);const w=(0,o.useMemo)((()=>({smartHeaders:j,activeIndex:m,setActiveIndex:p,collapseWrapper:b,showWrapper:x,tableElement:h,pivotHeight:r,setPivotHeight:s,showPivot:u,setShowPivot:v})),[r,u,m]);return(0,n.jsx)(c.Provider,Object.assign({value:w},{children:(0,n.jsx)("div",Object.assign({className:"table-wrapper"},{children:(0,n.jsx)("table",Object.assign({ref:h,style:{gridTemplateColumns:(0,a.generateColumnsSize)(i.length)}},{children:e}),void 0)}),void 0)}),void 0)};u.Pivot=({side:e,location:t})=>{const{tableElement:i,pivotHeight:r,setPivotHeight:s,setShowPivot:a,activeIndex:l,setActiveIndex:d}=(0,o.useContext)(c);return(0,n.jsxs)(n.Fragment,{children:["LEFT"===e&&(0,n.jsx)("div",{style:{height:r},className:"left-pivot "+(l===t?"active":"")},void 0),"RIGHT"===e&&(0,n.jsx)("div",{style:{height:r},onMouseDown:()=>{d(t),s(i.current.clientHeight),a("")},className:"right-pivot "+(l===t?"active":"")},void 0)]},void 0)},u.TableHead=({addTableRow:e})=>{const{showPivot:t,collapseWrapper:i,showWrapper:s,smartHeaders:a}=(0,o.useContext)(c);return(0,n.jsx)("thead",{children:(0,n.jsx)("tr",{children:a.map((({title:o,ref:a},l)=>(0,n.jsxs)("td",Object.assign({className:`menu-container ${t}`,ref:a},{children:[(0,n.jsx)("span",{children:o},void 0),(0,n.jsx)(r.DropdownContainer,{children:(0,n.jsxs)(r.DropdownContainer.List,{children:[(0,n.jsx)(r.DropdownContainer.Item,{callback:()=>{i(l)},title:`Свернуть ${o}`},void 0),(0,n.jsx)(r.DropdownContainer.Item,{callback:()=>{s(l)},title:`Развернуть ${o}`},void 0),(0,n.jsx)(r.DropdownContainer.Item,{title:"Сортировать по возрастанию"},void 0),(0,n.jsx)(r.DropdownContainer.Item,{callback:()=>{e()},title:"Добавить строку"},void 0),(0,n.jsx)(r.DropdownContainer.Item,{title:"Сортировать по убыванию"},void 0)]},void 0)},void 0),(0,n.jsx)(u.Pivot,{side:"LEFT",location:l},void 0),(0,n.jsx)(u.Pivot,{side:"RIGHT",location:l},void 0)]}),Math.random())))},void 0)},void 0)},u.TableBody=({children:e})=>(0,n.jsx)("tbody",{children:e},void 0),u.TableRow=({children:e})=>(0,n.jsx)("tr",{children:e},void 0),u.TableData=({title:e,children:t})=>(0,n.jsxs)("td",{children:[!t&&(0,n.jsx)(s.EditableSpan,{title:e},void 0),t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.EditableSpan,{title:e},void 0)," ",t]},void 0)]},void 0),u.TableDataWithDeleteButton=({title:e,callback:t})=>(0,n.jsxs)("td",{children:[(0,n.jsx)(s.EditableSpan,{title:e},void 0)," ",(0,n.jsx)("button",Object.assign({onClick:t},{children:"delete"}),void 0)]},void 0),t.CompoundTable=()=>{const[e,t]=(0,o.useState)([{id:1,title:"Large Detroit Style Pizza",order:3213456785,amount:"$31.43",status:"Pending",name:"Dave"},{id:2,title:"Double Decker Club With Fries. Pickles, extra side avacado",order:9874563245,amount:"$12.99",status:"Delivered",name:"Cathy"},{id:3,title:"Family Sized Lobster Dinner",order:3456781234,amount:"$320.00",status:"In Progress",name:"Alexander"}]);return(0,n.jsxs)(u,Object.assign({minCellWidth:120,headers:["Items","Order #","Amount","Status","Delivery Driver"]},{children:[(0,n.jsx)(u.TableHead,{addTableRow:()=>{t([{id:Math.random()},...e])}},void 0),(0,n.jsx)(u.TableBody,{children:e.map((i=>(0,n.jsxs)(u.TableRow,{children:[(0,n.jsx)(u.TableDataWithDeleteButton,{title:i.title,callback:()=>{t(e.filter((e=>e.id!==i.id)))}},void 0),(0,n.jsx)(u.TableData,{title:i.order},void 0),(0,n.jsx)(u.TableData,{title:i.amount},void 0),(0,n.jsx)(u.TableData,{title:i.status},void 0),(0,n.jsx)(u.TableData,{title:i.name},void 0)]},Math.random())))},void 0)]}),void 0)}},838:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createSmartHeaders=void 0;const n=i(294);t.createSmartHeaders=e=>e.map((e=>({title:e,ref:(0,n.useRef)()})))},733:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.generateColumnsSize=void 0,t.generateColumnsSize=e=>{let t="";for(let i=0;i<e;i+=1)t+="1fr ";return t}},402:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.generateColumnsSize=t.createSmartHeaders=void 0;var n=i(838);Object.defineProperty(t,"createSmartHeaders",{enumerable:!0,get:function(){return n.createSmartHeaders}});var o=i(733);Object.defineProperty(t,"generateColumnsSize",{enumerable:!0,get:function(){return o.generateColumnsSize}})},355:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.showColumn=t.collapseColumn=t.resizer=void 0,t.resizer=(e,t,i,n,o)=>{const r=i.map(((t,i)=>{if(i===o){const i=e.clientX-t.ref.current.offsetLeft;if(i>=n)return`${i}px`}return`${t.ref.current.offsetWidth}px`}));t.current.style.gridTemplateColumns=`${r.join(" ")}`},t.collapseColumn=(e,t,i,n)=>{const o=i.map(((t,i)=>i!==e&&t.ref.current.offsetWidth===n||i===e?`${n}px`:"1fr"));t.current.style.gridTemplateColumns=`${o.join(" ")}`},t.showColumn=(e,t,i,n)=>{const o=i.map(((t,i)=>i===e&&t.ref.current.offsetWidth===n?"1fr":i!==e&&t.ref.current.offsetWidth===n?`${n}px`:"1fr"));t.current.style.gridTemplateColumns=`${o.join(" ")}`}},644:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DropdownContainer=void 0;const n=i(893),o=i(294);i(38),t.DropdownContainer=({children:e})=>{const[t,i]=(0,o.useState)(!1),r=(0,o.useRef)(null);return(0,o.useEffect)((()=>{const e=e=>{r.current&&!r.current.contains(e.target)&&i(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[]),(0,n.jsxs)("div",Object.assign({className:"dropdown-container"},{children:[(0,n.jsx)("span",Object.assign({className:"dropdown-btn",ref:r,onClick:()=>{i((e=>!e))}},{children:"…"}),void 0),t&&(0,n.jsx)("div",{children:e},void 0)]}),void 0)},t.DropdownContainer.List=({children:e})=>(0,n.jsx)("ul",Object.assign({className:"dropdown-menu"},{children:e}),void 0),t.DropdownContainer.Item=({title:e,children:t,callback:i})=>(0,n.jsxs)(n.Fragment,{children:[!t&&(0,n.jsx)("li",Object.assign({onClick:()=>{i()}},{children:e}),void 0),t&&(0,n.jsxs)("li",Object.assign({onClick:()=>{}},{children:[e,"〉",(0,n.jsx)("div",{children:t},void 0)]}),void 0)]},void 0)},95:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EditableSpan=void 0;const n=i(893),o=i(294);i(254),t.EditableSpan=({title:e})=>{const[t,i]=(0,o.useState)(!1),[r,s]=(0,o.useState)(e||"");return(0,n.jsx)("div",Object.assign({className:"editable-span",onDoubleClick:()=>i(!0)},{children:t?(0,n.jsx)("input",{onChange:e=>{s(e.currentTarget.value)},type:"text",autoFocus:!0,value:r,onBlur:()=>{i(!1)},onKeyPress:e=>{"Enter"===e.key&&i(!1)}},void 0):(0,n.jsx)("span",{children:r},void 0)}),void 0)}},629:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(893),r=n(i(935)),s=i(957);i(985),r.default.render((0,o.jsx)(s.App,{},void 0),document.querySelector("#root"))}},e=>{e.O(0,[216],(()=>(629,e(e.s=629)))),e.O()}]);